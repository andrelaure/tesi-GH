{"ast":null,"code":"import { __awaiter, __decorate } from \"tslib\";\nimport __NG_CLI_RESOURCE__0 from \"./viewsManagement.component.html?ngResource\";\nimport __NG_CLI_RESOURCE__1 from \"./viewsManagement.component.scss?ngResource\";\nimport { Component } from \"@angular/core\";\nimport { Store } from \"@ngrx/store\";\nimport { Subject, debounceTime, distinctUntilChanged, firstValueFrom, map, of, take } from \"rxjs\";\nimport { ActivatedRoute, Router } from \"@angular/router\";\nimport { selectIsLoading } from \"src/app/redux/awaiter/awaiter.selectors\";\nimport { selectOfficesData, selectOfficesDataFilters } from \"src/app/redux/offices/offices.selectors\";\nimport { environment } from \"src/environments/environment\";\nimport { changeOfficesDataFilters, getAllOfficesData } from \"src/app/redux/offices/offices.actions\";\nimport { getRandomId } from \"src/app/redux/actions\";\nlet ViewsManagementComponent = class ViewsManagementComponent {\n  get selectedOfficesData() {\n    return this._selectedOfficesData;\n  }\n  set selectedOfficesData(value) {\n    this._selectedOfficesData = value;\n  }\n  constructor(store, router, route) {\n    this.store = store;\n    this.router = router;\n    this.route = route;\n    this.officesData$ = of([]);\n    this.expandedMap = {};\n    this.lastSearch$ = of(null);\n    this.officesDataFilters$ = of({});\n    this.totalRecords$ = of(0);\n    this.globalFiltersFields = Object.keys(this.office);\n    this.filtersSubj$ = new Subject();\n    this._firstQuery = true;\n    this.currentDate = new Date();\n    this.formattedDate = this.formatDateToDDMMYYYY(this.currentDate);\n    this.placesLeft = 0;\n    this.officesData$.subscribe(data => {\n      if (data) {\n        data.forEach(office => {\n          this.expandedMap[office.officesId] = false;\n        });\n      }\n    });\n    this.isLoading$ = store.select(selectIsLoading).pipe(distinctUntilChanged());\n    this.officesDataFilters$ = store.select(selectOfficesDataFilters);\n    this.filtersSub = this.filtersSubj$.asObservable().pipe(debounceTime(1000)).subscribe(a => this.store.dispatch(a));\n    this.lastSearch$ = store.select(selectOfficesDataFilters).pipe(take(1), map(f => f.filtering && f.filtering.length > 0 ? f.filtering[0].value : \"\"));\n  }\n  formatDateToDDMMYYYY(date) {\n    date.setDate(date.getDate() + 1); //tomorrow\n    const day = date.getDate().toString().padStart(2, '0');\n    const month = (date.getMonth() + 1).toString().padStart(2, '0');\n    const year = date.getFullYear().toString();\n    return `${day}/${month}/${year}`;\n  }\n  getOffices() {\n    this.store.dispatch(getAllOfficesData({\n      _id: getRandomId()\n    }));\n    this.store.select(selectOfficesData).subscribe(data => {\n      if (data && data.length > 0) {\n        data.forEach(office => {\n          this.placesLeft = office.officesCapacity - office.userId.length;\n        });\n        console.log(data);\n      }\n    });\n    //this.placesLeft = this.office.officesCapacity -  this.office.userId.length;\n  }\n  //filtering and pagination\n  filter(value) {\n    return __awaiter(this, void 0, void 0, function* () {\n      const currentQueryParams = yield firstValueFrom(this.officesDataFilters$.pipe(take(1)));\n      const newQueryParams = Object.assign(Object.assign({}, currentQueryParams), {\n        paging: currentQueryParams.paging ? currentQueryParams.paging : {\n          skip: 0,\n          take: environment.defaultNumberOfRowsPerPage\n        },\n        filtering: value ? [{\n          column: this.globalFiltersFields.join(\",\"),\n          predicate: \"LK\",\n          value: value,\n          kind: \"STRING\"\n        }] : []\n      });\n      this.filtersSubj$.next(changeOfficesDataFilters({\n        queryParams: newQueryParams,\n        _id: getRandomId()\n      }));\n    });\n  }\n  sort($event) {\n    return __awaiter(this, void 0, void 0, function* () {\n      if (this._firstQuery) {\n        this._firstQuery = false;\n        return;\n      }\n      const currentQueryParams = yield firstValueFrom(this.officesDataFilters$.pipe(take(1)));\n      const newQueryParams = Object.assign(Object.assign({}, currentQueryParams), {\n        ordering: $event.sortField ? [{\n          column: $event.sortField,\n          columnPrefix: \"\",\n          descending: $event.sortOrder > 0\n        }] : [],\n        paging: currentQueryParams.paging ? $event.first !== null || $event.first !== undefined ? {\n          skip: $event.first,\n          take: $event.rows\n        } : currentQueryParams.paging : {\n          skip: 0,\n          take: environment.defaultNumberOfRowsPerPage\n        }\n      });\n      this.filtersSubj$.next(changeOfficesDataFilters({\n        queryParams: newQueryParams,\n        _id: getRandomId()\n      }));\n    });\n  }\n  ngOnInit() {\n    this.office = {\n      officesName: '',\n      officesCapacity: null,\n      officesType: null,\n      userId: null\n    };\n    this.getOffices();\n    this.officesData$ = this.store.select(selectOfficesData);\n    this.totalRecords$ = this.officesData$.pipe(map(x => x ? x[0] ? x[0].count : 0 : 0));\n  }\n  ngOnDestroy() {\n    var _a;\n    (_a = this.filtersSub) === null || _a === void 0 ? void 0 : _a.unsubscribe();\n  }\n};\nViewsManagementComponent.ctorParameters = () => [{\n  type: Store\n}, {\n  type: Router\n}, {\n  type: ActivatedRoute\n}];\nViewsManagementComponent = __decorate([Component({\n  selector: \"app-viewsManagement\",\n  template: __NG_CLI_RESOURCE__0,\n  styles: [__NG_CLI_RESOURCE__1]\n})], ViewsManagementComponent);\nexport { ViewsManagementComponent };","map":{"version":3,"mappings":"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","names":["Component","Store","Subject","debounceTime","distinctUntilChanged","firstValueFrom","map","of","take","ActivatedRoute","Router","selectIsLoading","selectOfficesData","selectOfficesDataFilters","environment","changeOfficesDataFilters","getAllOfficesData","getRandomId","ViewsManagementComponent","selectedOfficesData","_selectedOfficesData","value","constructor","store","router","route","Object","keys","office","Date","formatDateToDDMMYYYY","currentDate","officesData$","subscribe","data","forEach","expandedMap","officesId","isLoading$","select","pipe","officesDataFilters$","filtersSub","filtersSubj$","asObservable","a","dispatch","lastSearch$","f","filtering","length","date","setDate","getDate","day","toString","padStart","month","getMonth","year","getFullYear","getOffices","_id","placesLeft","officesCapacity","userId","console","log","filter","currentQueryParams","newQueryParams","paging","skip","defaultNumberOfRowsPerPage","column","globalFiltersFields","join","predicate","kind","next","queryParams","sort","$event","_firstQuery","ordering","sortField","columnPrefix","descending","sortOrder","first","undefined","rows","ngOnInit","officesName","officesType","totalRecords$","x","count","ngOnDestroy","unsubscribe","selector","template"],"sourceRoot":"","sources":["C:\\Users\\andrea\\Desktop\\SIGLA\\tesi\\tesi-andrea-lauretta\\front-end\\angular\\src\\app\\components\\admin\\viewsManagement\\viewsManagement.component.ts"],"sourcesContent":["import { Component, OnDestroy, OnInit } from \"@angular/core\";\r\nimport { NgForm } from \"@angular/forms\";\r\n\r\nimport { AppState, DynamicQueryPart, Filtering} from \"src/app/redux/state\";\r\nimport { Action, Store } from \"@ngrx/store\";\r\nimport { Observable, Subject, Subscription, debounceTime, distinctUntilChanged, filter, firstValueFrom, map, of, startWith, take } from \"rxjs\";\r\nimport { OfficesData } from \"src/app/redux/offices/offices.state\";\r\nimport { ActivatedRoute, Router } from \"@angular/router\";\r\nimport { selectIsLoading } from \"src/app/redux/awaiter/awaiter.selectors\";\r\nimport { selectOfficesData, selectOfficesDataFilters } from \"src/app/redux/offices/offices.selectors\";\r\nimport { environment } from \"src/environments/environment\";\r\nimport { changeOfficesDataFilters, getAllOfficesData } from \"src/app/redux/offices/offices.actions\";\r\nimport { getRandomId } from \"src/app/redux/actions\";\r\nimport { LazyLoadEvent } from \"primeng/api\";\r\nimport { OfficesManagementComponent } from \"../officesManagement/officesManagement.component\";\r\n\r\n@Component({\r\n    selector: \"app-viewsManagement\",\r\n    templateUrl: \"./viewsManagement.component.html\",\r\n    styleUrls: [\"./viewsManagement.component.scss\"],\r\n})\r\n\r\nexport class ViewsManagementComponent  implements OnInit, OnDestroy{ \r\n\r\n    officesData$: Observable<OfficesData[]> = of([]);\r\n    office: Partial<OfficesData>;    \r\n\r\n    expandedMap: { [key: number]: boolean } = {};\r\n    lastSearch$: Observable<string> = of(null);\r\n    officesDataFilters$: Observable<DynamicQueryPart> = of({});\r\n    isLoading$: Observable<boolean>;\r\n    totalRecords$: Observable<number> = of(0);\r\n    globalFiltersFields = Object.keys(this.office);\r\n    filtersSubj$ = new Subject<Action>();\r\n    filtersSub: Subscription;\r\n\r\n    private _firstQuery: boolean = true;\r\n    private _selectedOfficesData: OfficesData;\r\n    get selectedOfficesData() {\r\n        return this._selectedOfficesData;\r\n    }\r\n    set selectedOfficesData(value: OfficesData) {\r\n        this._selectedOfficesData = value;\r\n    }\r\n\r\n\r\n    constructor(\r\n        private store: Store<AppState>,\r\n        private router: Router,\r\n        private route: ActivatedRoute\r\n    ){\r\n        this.officesData$.subscribe((data) => {\r\n            if(data) { data.forEach((office) => {this.expandedMap[office.officesId] = false; });} });\r\n        this.isLoading$ = store.select(selectIsLoading).pipe(distinctUntilChanged());\r\n        this.officesDataFilters$ = store.select(selectOfficesDataFilters);\r\n        this.filtersSub = this.filtersSubj$.asObservable().pipe(debounceTime(1000)).subscribe((a) => this.store.dispatch(a));\r\n        this.lastSearch$ = store.select(selectOfficesDataFilters).pipe(take(1), map((f) => f.filtering && f.filtering.length > 0 ? f.filtering[0].value : \"\"));\r\n    }\r\n\r\n    currentDate = new Date();\r\n    formattedDate = this.formatDateToDDMMYYYY(this.currentDate);\r\n\r\n    private formatDateToDDMMYYYY(date: Date): string {\r\n        date.setDate(date.getDate()+1);  //tomorrow\r\n        const day = date.getDate().toString().padStart(2, '0'); \r\n        const month = (date.getMonth() + 1).toString().padStart(2, '0');\r\n        const year = date.getFullYear().toString();\r\n      \r\n        return `${day}/${month}/${year}`;\r\n    }\r\n\r\n    placesLeft = 0;\r\n\r\n    getOffices(){\r\n\r\n        this.store.dispatch(getAllOfficesData({ _id: getRandomId() }));\r\n        this.store.select(selectOfficesData).subscribe((data) => {\r\n            if (data && data.length > 0) {\r\n                data.forEach((office) => {\r\n                    this.placesLeft = office.officesCapacity - office.userId.length;\r\n                });\r\n                console.log(data);\r\n            }\r\n        });\r\n          \r\n        //this.placesLeft = this.office.officesCapacity -  this.office.userId.length;\r\n\r\n    }\r\n\r\n    //filtering and pagination\r\n    async filter(value: string) {\r\n        const currentQueryParams = await firstValueFrom(this.officesDataFilters$.pipe(take(1)));\r\n        const newQueryParams: DynamicQueryPart = {\r\n            ...currentQueryParams,\r\n            paging: currentQueryParams.paging\r\n                ? currentQueryParams.paging\r\n                : { skip: 0, take: environment.defaultNumberOfRowsPerPage },\r\n            filtering: value\r\n                ? [{ column: this.globalFiltersFields.join(\",\"), predicate: \"LK\", value: value, kind: \"STRING\" } as Filtering]\r\n                : []\r\n        };\r\n        this.filtersSubj$.next(changeOfficesDataFilters({ queryParams: newQueryParams, _id: getRandomId() }));\r\n    }\r\n\r\n    async sort($event: LazyLoadEvent) {\r\n        if (this._firstQuery) {\r\n            this._firstQuery = false;\r\n            return;\r\n        }\r\n        const currentQueryParams = await firstValueFrom(this.officesDataFilters$.pipe(take(1)));\r\n        const newQueryParams = {\r\n            ...currentQueryParams,\r\n            ordering: $event.sortField                \r\n                ? [{ column: $event.sortField, columnPrefix: \"\", descending: $event.sortOrder > 0}]\r\n                : [],\r\n            paging: currentQueryParams.paging\r\n                ? ($event.first !== null || $event.first !== undefined)\r\n                    ? { skip: $event.first, take: $event.rows }\r\n                    : currentQueryParams.paging\r\n                : { skip: 0, take: environment.defaultNumberOfRowsPerPage }\r\n        };\r\n        this.filtersSubj$.next(changeOfficesDataFilters({ queryParams: newQueryParams, _id: getRandomId() }));\r\n    }\r\n\r\n    ngOnInit(){\r\n        this.office = {\r\n            officesName : '',\r\n            officesCapacity : null, \r\n            officesType: null, \r\n            userId: null,\r\n        };\r\n\r\n        this.getOffices();\r\n        this.officesData$ = this.store.select(selectOfficesData);\r\n        this.totalRecords$ = this.officesData$.pipe(map((x) => (x ? (x[0] ? x[0].count : 0) : 0)));\r\n    }\r\n\r\n    ngOnDestroy(){\r\n        this.filtersSub?.unsubscribe();\r\n    }\r\n\r\n}\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}