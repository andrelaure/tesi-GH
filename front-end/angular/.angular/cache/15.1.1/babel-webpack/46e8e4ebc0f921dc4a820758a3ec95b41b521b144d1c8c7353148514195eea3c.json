{"ast":null,"code":"import { __awaiter, __decorate } from \"tslib\";\nimport { Injectable } from \"@angular/core\";\nimport { CustomOAuthService } from \"../services/custom-oauth.service\";\nlet BaseUserGuard = class BaseUserGuard {\n  constructor(oauthService) {\n    this.oauthService = oauthService;\n  }\n  canActivate(route, state) {\n    return __awaiter(this, void 0, void 0, function* () {\n      const isBaseUser = yield this.oauthService.isBaseUser();\n      if (!isBaseUser) {\n        console.error(\"You should be 'base-user' to activate this route!\");\n      }\n      return isBaseUser;\n    });\n  }\n};\nBaseUserGuard.ctorParameters = () => [{\n  type: CustomOAuthService\n}];\nBaseUserGuard = __decorate([Injectable({\n  providedIn: \"any\"\n})], BaseUserGuard);\nexport { BaseUserGuard };","map":{"version":3,"mappings":";AAAA,SAASA,UAAU,QAAQ,eAAe;AAE1C,SAASC,kBAAkB,QAAQ,kCAAkC;AAG9D,IAAMC,aAAa,GAAnB,MAAMA,aAAa;EACtBC,YAAoBC,YAAgC;IAAhC,iBAAY,GAAZA,YAAY;EAAuB;EAEjDC,WAAW,CACbC,KAA6B,EAC7BC,KAA0B;;MAE1B,MAAMC,UAAU,GAAG,MAAM,IAAI,CAACJ,YAAY,CAACI,UAAU,EAAE;MACvD,IAAI,CAACA,UAAU,EAAE;QACbC,OAAO,CAACC,KAAK,CAAC,mDAAmD,CAAC;;MAEtE,OAAOF,UAAU;IACrB,CAAC;;;;;;AAZQN,aAAa,eADzBF,UAAU,CAAC;EAAEW,UAAU,EAAE;AAAK,CAAE,CAAC,GACrBT,aAAa,CAazB;SAbYA,aAAa","names":["Injectable","CustomOAuthService","BaseUserGuard","constructor","oauthService","canActivate","route","state","isBaseUser","console","error","providedIn"],"sourceRoot":"","sources":["C:\\Users\\andrea\\Desktop\\SIGLA\\tesi\\tesi-andrea-lauretta\\front-end\\angular\\src\\app\\guards\\base-user.guard.ts"],"sourcesContent":["import { Injectable } from \"@angular/core\";\r\nimport { ActivatedRouteSnapshot, CanActivate, RouterStateSnapshot, UrlTree } from \"@angular/router\";\r\nimport { CustomOAuthService } from \"../services/custom-oauth.service\";\r\n\r\n@Injectable({ providedIn: \"any\" })\r\nexport class BaseUserGuard implements CanActivate {\r\n    constructor(private oauthService: CustomOAuthService) {}\r\n\r\n    async canActivate(\r\n        route: ActivatedRouteSnapshot,\r\n        state: RouterStateSnapshot\r\n    ): Promise<boolean | UrlTree> {\r\n        const isBaseUser = await this.oauthService.isBaseUser();\r\n        if (!isBaseUser) {\r\n            console.error(\"You should be 'base-user' to activate this route!\");\r\n        }\r\n        return isBaseUser;\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}